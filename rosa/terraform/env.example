# SPDX-FileCopyrightText: 2024 SAP edge team
# SPDX-License-Identifier: Apache-2.0

# Example environment variables file for ROSA HCP deployment with EFS
# Copy this file to .env and update with your values

# Required Variables
ROSA_TOKEN=your-rosa-token-here                     # Get from: https://console.redhat.com/openshift/token
CLUSTER_NAME=sapeic-cluster                         # Name for your ROSA HCP cluster
AWS_REGION=eu-central-1                             # AWS region for deployment

# Cluster Configuration
ROSA_VERSION=4.14.24                                # OpenShift version (check available versions with: rosa list versions)
CHANNEL_GROUP=stable                                # Version channel: stable, candidate, fast, or nightly
WORKER_REPLICAS=3                                   # Number of worker nodes
WORKER_MACHINE_TYPE=m5.xlarge                       # AWS instance type for workers

# Network Configuration
CREATE_VPC=true                                     # Set to false if using existing VPC/subnets
# If CREATE_VPC is false, provide existing subnet IDs (comma-separated):
# EXISTING_SUBNET_IDS=subnet-xxx,subnet-yyy,subnet-zzz
# AVAILABILITY_ZONES=eu-central-1a,eu-central-1b,eu-central-1c

# VPC Configuration (when CREATE_VPC=true)
VPC_NAME=rosa-sapeic-vpc
VPC_CIDR=10.0.0.0/16
PUBLIC_SUBNET_1_CIDR=10.0.0.0/24
PUBLIC_SUBNET_2_CIDR=10.0.1.0/24
PUBLIC_SUBNET_3_CIDR=10.0.4.0/24
PRIVATE_SUBNET_1_CIDR=10.0.2.0/24
PRIVATE_SUBNET_2_CIDR=10.0.3.0/24
PRIVATE_SUBNET_3_CIDR=10.0.5.0/24

# Domain Configuration (optional)
DOMAIN_NAME=                                        # Your Route53 domain (e.g., "example.com")
CREATE_DOMAIN_RECORDS=false                         # Whether to create Route53 records
USE_CNAME_RECORDS=false                             # Use CNAME records instead of A records

# Cluster Access
PRIVATE_CLUSTER=false                               # Set to true for private cluster
CREATE_ADMIN_USER=true                              # Create cluster-admin user
ADMIN_USERNAME=kubeadmin                            # Admin username
ADMIN_PASSWORD=                                     # Leave empty for auto-generated password

# Autoscaling Configuration (optional)
ENABLE_AUTOSCALING=false                            # Enable worker node autoscaling
MIN_REPLICAS=2                                      # Minimum workers when autoscaling
MAX_REPLICAS=10                                     # Maximum workers when autoscaling

# Security Configuration (optional)
KMS_KEY_ARN=                                        # ARN of KMS key for EBS encryption

# IAM Configuration
CREATE_ACCOUNT_ROLES=true                           # Create account-wide IAM roles
CREATE_OIDC=true                                    # Create OIDC provider
CREATE_OPERATOR_ROLES=true                          # Create operator IAM roles
# Custom prefixes (optional - defaults to cluster_name-based prefixes)
# ACCOUNT_ROLE_PREFIX=my-account
# OPERATOR_ROLE_PREFIX=my-operator
IAM_ROLE_PATH=/
IAM_ROLE_PERMISSIONS_BOUNDARY=

# OIDC Configuration (required if CREATE_OIDC=false or adding EFS to existing cluster)
# OIDC_ENDPOINT_URL=oidc.op1.openshiftapps.com/your-oidc-config-id
# OIDC_CONFIG_ID=your-oidc-config-id

# Additional Tags (format: key1=value1,key2=value2)
ADDITIONAL_TAGS=Project=SAP-EIC,Owner=your-team,Environment=production

# Advanced Configuration
WAIT_FOR_CLUSTER=true                               # Wait for cluster to be ready
ENVIRONMENT_TAG=rosa                                # Environment tag for resources
DNS_TTL=3600                                        # DNS record TTL in seconds

# EFS Configuration
ENABLE_EFS=false                                    # Enable EFS creation and configuration
EFS_PERFORMANCE_MODE=generalPurpose                 # Performance mode: generalPurpose or maxIO
EFS_THROUGHPUT_MODE=elastic                         # Throughput mode: bursting, provisioned, or elastic
# EFS_PROVISIONED_THROUGHPUT=100                    # MiB/s (only when EFS_THROUGHPUT_MODE=provisioned)
EFS_KMS_KEY_ARN=                                    # KMS key ARN for EFS encryption (uses AWS managed key if not set)
EFS_TRANSITION_TO_IA=AFTER_30_DAYS                 # Lifecycle policy for IA transition
EFS_TRANSITION_TO_PRIMARY_STORAGE_CLASS=AFTER_1_ACCESS  # Transition back to primary storage
